<form [formGroup]="queryForm" (ngSubmit)="onSubmit()">
    <div class="query-panel">
        <input type="text" class="connection-name inline-edit" formControlName="name"
            [size]="queryForm.value.name.length < 5 ? 5 : queryForm.value.name.length -5">

        <select class="connection-type" formControlName="connectionId">
            <option *ngFor="let connection of connections$ | async" [ngValue]="connection.id">
                {{connection.name}}
            </option>
        </select>

        <textarea class="query-input" formControlName="queryString">{{originalQuery.queryString}}</textarea>

        <h6>Result</h6>
        <table class="result-table">
            <thead>
                <th>Value1</th>
                <th>Value2</th>
            </thead>
            <tbody>
                <tr>
                    <td>some</td>
                    <td>kiklop</td>
                </tr>
                <tr>
                    <td>drop</td>
                    <td>craig</td>
                </tr>
            </tbody>
        </table>

        <div class="actions">
            <button class="wide" type="submit" [class.gray]="!dirty" [disabled]="!dirty">Save</button>
            <button class="wide" type="button" (click)="runQuery()">Run</button>
            <div class="right">
                <button class="wide" (click)="resetForm()" [class.gray]="!dirty" [disabled]="!dirty">Reset</button>
                <button class="wide red" (click)="deleteQuery()">Delete</button>
            </div>
        </div>

    </div>
</form>